<%- include('../includes/head.ejs')%> <%- include('../includes/header.ejs')%>

<div
  class="container fontTable w-100 h-100 mt-5 pt-5 d-flex flex-column justify-content-center"
>
  <div class="col-md-12 d-flex flex-column justify-content-center">
    <div class="d-flex flex-row w-100 justify-content-between">
      <h5 class="text-center align-start text-secondary"><%= title %></h5>
      <a href="/myaccount/add-user">
        <button
          class="btn btn-outline-primary"
          type="button"
          title="Ajouter un utilisateur"
        >
          Nouveau
        </button>
      </a>
    </div>
    <table class="table table-hover">
      <thead class="thead-light">
        <tr>
          <th>#</th>
          <th>Noms</th>
          <th>Nom d'utilisateur</th>
          <th>Email</th>
          <th>Role</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody class="font14">
        <% users.forEach((user, i)=> { %>
        <tr>
          <td class="align-middle"><%= i + 1 %></td>
          <td>
            <div class="d-flex align-items-center gap-2">
              <div class="rounded-name-character">
                <%= user.noms.charAt(0).toUpperCase() %>
              </div>
              <div><%= user.noms %></div>
            </div>
          </td>
          <td class="align-middle"><%= user.username %></td>
          <td class="align-middle"><%= user.email %></td>
          <td class="align-middle">
            <%= user.role==1? 'Super admin' : user.role==2 ? 'admin' :
            'attendance' %>
          </td>
          <td class="align-middle">
            <a href="/myaccount/users/<%= user.id %>">
              <button class="btn btn-outline-primary btn-sm mx-1" type="button">
                <i class="fa-solid fa-eye"></i>
              </button>
            </a>
            <a href="">
              <button class="btn btn-outline-success btn-sm mx-1" type="button">
                <i class="fa-solid fa-pen-to-square"></i>
              </button>
            </a>
            <button class="btn btn-outline-danger btn-sm mx-1" type="button">
              <i class="fa fa-trash-can"></i>
            </button>
          </td>
        </tr>
        <% }) %>
      </tbody>
      <tfoot>
        <tr>
          <th>#</th>
          <th>Noms</th>
          <th>Nom d'utilisateur</th>
          <th>Email</th>
          <th>Role</th>
          <th>Actions</th>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

<%- include('../includes/footer.ejs')%>
